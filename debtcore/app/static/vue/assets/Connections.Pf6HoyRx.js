import{_ as f,a as r,b as p}from"./CardDescription.vue_vue_type_script_setup_true_lang.nuAmEoIx.js";import{_ as m}from"./CardTitle.vue_vue_type_script_setup_true_lang.CooFW0om.js";import{_ as h}from"./CardContent.vue_vue_type_script_setup_true_lang.D46BGtUZ.js";import{e as y,o as c,c as $,f as I,n as N,u as t,g as D,I as g,G as B,a1 as C,r as A,l as i,k as e,d as a,a as s,b as n,Y as k,s as x,m as S,i as j,az as U}from"../main.js";import{_ as b}from"./index.DhdF1qMN.js";import{c as W}from"./connection.BGxe5Pwg.js";const T=y({__name:"CardFooter",props:{class:{}},setup(_){const o=_;return(l,u)=>(c(),$("div",{class:N(t(D)("flex items-center p-6 pt-0",o.class))},[I(l.$slots,"default")],2))}}),z={class:"flex flex-col md:flex-row border-t-4 border-green-600/80 rounded"},F={class:"flex items-stretch"},Y=a("b",null,"'Connect to WhatsApp'",-1),q=a("b",null,"'Disconnect from WhatsApp'",-1),E=a("b",null,"'Authenticate'",-1),M=a("a",{href:"https://metastatus.com/whatsapp-business-api",class:"text-blue-600 underline"},"Status",-1),O=["href"],R=y({__name:"Whatsapp",setup(_){const o=W("whatsapp"),{toast:l}=g();B(()=>{o.init("/api/connections/facebook")});const u=()=>{o.disconnect(),l({title:"Whatsapp disconnected successfully!",variant:"success"})};return C(()=>{o.$reset()}),(w,v)=>{const d=A("VIcon");return t(o).is_loading?(c(),i(t(p),{key:1},{default:e(()=>[s(d,{name:"fa-circle-notch",animation:"spin",speed:"slow",class:"w-fit h-fit mr-2"})]),_:1})):(c(),i(t(p),{key:0,class:"shadow-none"},{default:e(()=>[a("div",z,[s(t(f),null,{default:e(()=>[s(t(m),{class:"my-auto flex items-center"},{default:e(()=>[s(d,{name:"fa-whatsapp",class:"size-32 fill-green-500"})]),_:1})]),_:1}),s(t(f),{class:"flex-1"},{default:e(()=>[s(t(h),{class:"py-2 pl-0"},{default:e(()=>[a("div",F,[s(t(m),null,{default:e(()=>[n("WhatsApp Business")]),_:1}),t(o).is_authenticated?(c(),i(t(b),{key:0,class:"ml-3",variant:"success"},{default:e(()=>[n(" Connected")]),_:1})):(c(),i(t(b),{key:1,class:"ml-3",variant:"destructive"},{default:e(()=>[n(" Not Connected")]),_:1}))])]),_:1}),s(t(k),{class:"w-full"}),s(t(h),{class:"py-1 pl-0"},{default:e(()=>[a("div",null,[s(t(r),null,{default:e(()=>[n("To connect to WhatsApp Business, click the "),Y,n(" button. You will be taken to the Meta Business website to allow DebtCore to connect to your Organisation.")]),_:1}),s(t(r),null,{default:e(()=>[n("To disconnect from WhatsApp Business, click the "),q,n(" button. This button will only be displayed when a connection has been established.")]),_:1}),s(t(r),{class:"mt-4"},{default:e(()=>[n("When the connection requires authentication, click the "),E,n(" button. You will be taken to Facebook to re-establish connection to your Organisation.")]),_:1}),s(t(r),{class:"mt-8"},{default:e(()=>[n("Whatsapp Business API "),M,n(".")]),_:1})])]),_:1})]),_:1})]),s(t(k),{class:"w-full"}),s(t(T),{class:"flex items-end justify-end mt-5"},{default:e(()=>[t(o).is_authenticated?(c(),i(t(x),{key:1,variant:"destructive",onClick:v[0]||(v[0]=()=>u())},{default:e(()=>[n(" Disconnect")]),_:1})):(c(),i(t(x),{key:0,variant:"default"},{default:e(()=>[a("a",{href:t(o).authenticate_url}," Connect to WhatsApp",8,O)]),_:1}))]),_:1})]),_:1}))}}}),G="/static/vue/assets/bukku.BUQtrjEe.png",H={class:"flex flex-col md:flex-row border-t-4 border-[#0aa89a] rounded"},L=["src"],P={class:"flex items-stretch"},Q=a("b",null,"'Disconnect from Bukku'",-1),J={key:0},K=y({__name:"Bukku",setup(_){const o=new URL(G,import.meta.url).href,l=W("bukku"),{toast:u}=g();B(()=>{l.init("/api/connections/bukku")});const w=()=>{l.disconnect(),u({title:"Bukku disconnected successfully!",variant:"success"})};return C(()=>{l.$reset()}),(v,d)=>{const V=A("VIcon");return t(l).is_loading?(c(),i(t(p),{key:1},{default:e(()=>[s(V,{name:"fa-circle-notch",animation:"spin",speed:"slow",class:"w-fit h-fit mr-2"})]),_:1})):(c(),i(t(p),{key:0,class:"shadow-none"},{default:e(()=>[a("div",H,[s(t(f),null,{default:e(()=>[s(t(m),{class:"my-auto flex items-center"},{default:e(()=>[a("img",{src:t(o),alt:"bukku logo",class:"w-32"},null,8,L)]),_:1})]),_:1}),s(t(f),{class:"flex-1"},{default:e(()=>[s(t(h),{class:"py-2 pl-0"},{default:e(()=>[a("div",P,[s(t(m),null,{default:e(()=>[n("Bukku")]),_:1}),t(l).is_authenticated?(c(),i(t(b),{key:0,class:"ml-3",variant:"success"},{default:e(()=>[n(" Connected")]),_:1})):(c(),i(t(b),{key:1,class:"ml-3",variant:"destructive"},{default:e(()=>[n(" Not Connected")]),_:1}))])]),_:1}),s(t(k),{class:"w-full"}),s(t(h),{class:"py-1 pl-0"},{default:e(()=>[a("div",null,[s(t(r),null,{default:e(()=>[n("To connect to Bukku, contact to our staff to complete part of the onboarding process.")]),_:1}),s(t(r),null,{default:e(()=>[n("To disconnect from Bukku, click the "),Q,n(" button. This button will only be displayed when a connection has been established.")]),_:1})])]),_:1})]),_:1})]),t(l).is_authenticated?(c(),$("div",J,[s(t(k),{class:"w-full"}),s(t(T),{class:"flex items-end justify-end mt-5"},{default:e(()=>[s(t(x),{variant:"destructive",onClick:d[0]||(d[0]=()=>w())},{default:e(()=>[n(" Disconnect")]),_:1})]),_:1})])):S("",!0)]),_:1}))}}}),X={class:"p-4 md:p-8 space-y-8"},Z=a("div",{class:"flex items-center justify-between space-y-2"},[a("div",null,[a("h2",{class:"text-2xl font-bold tracking-tight"},"Connections"),a("p",{class:"text-muted-foreground"},"Here's a list of your connected apps!")])],-1),tt=a("h4",{class:"text-xl font-bold tracking-tight my-2"},"Accounting Softwares",-1),lt=y({__name:"Connections",setup(_){const o=U();j("Unknown");const{toast:l}=g();return B(()=>{const u=o.query.error;u&&l({title:"Authentication Failed!",description:u,variant:"destructive"})}),(u,w)=>(c(),$("div",X,[Z,a("div",null,[s(R,{class:"mb-4"}),tt,s(K)])]))}});export{lt as default};
